#### 타입 속성

클래스는 붕어빵 틀과 같아서 이 붕어빵 틀을 먼저 만들고 이 틀을 사용해 실제 붕어빵을 만들면 그것이 인스턴스 객체가 된다는 것을 이미 알고 있다.
그리고 붕어빵 틀 안에 정의했던 저장 속성이나 계산 속성은 붕어빵 틀 안에 들어 있는 것처럼 보이지만 실제로는 붕어빵 인스턴스가 만들어지면서 붕어빵에 들어가게 된다.
즉, 클래스는 틀을 만들어 둔 것이라서 그 안에 넣어둔 속성은 실제로는 인스턴스 객체가 만들어질 때 인스턴스 객체 안에서 만들어지고 동작한다.
그래서 '인스턴스 속성(Instance Property)'이라고도 부른다. 하지만 경우에 따라 클래스 안에 속성을 넣어 두어야 할 때도 있다.
예를 들어, 붕어빵 틀에서 만들어 낸 붕어빵의 개수를 저장해 두고 싶다면 붕어빵 틀에 해당하는 클래스에 변수를 넣어 두는 것이 좋을 것이다.
왜나하면 인스턴스 속성으로 만들었을 경우에는 모든 실제 붕어빵마다 붕어빵 개수를 가지고 있으므로 변수가 중복되어 만들어지는 문제가 발생하기 때문이다.
이렇게 클래스 자체에서 사용되는 속성을 '타입 속성(Type Property)'이라고 하며, 이 타입 속성은 인스턴스들이 공용으로 사용할 수 있다.
타입 속성을 만들려면 변수 앞에 static 키워드를 붙여준다.
```swift
class Person {
    static var total : Int = 0
    
    class var halfTotal : Int {
        get {
            return total / 2
        }
        set(newValue) {
            total = newValue * 2
        }
    }
// type method
    class func getTotal() ->  Int {
        return total
    }
// type method
    var name : String?
    
    init(name:String) {
        self.name = name
        Person.total += 1
    }
}

var person01 = Person(name:"철수")
print("만들어진 사람 객체 수 -> \(Person.total)")

Person.halfTotal = 10
print("만들어진 사람 객체 수 -> \(Person.total)")
// type method 호출
var total = Person.getTotal()
print("만들어진 사람 객체 수 -> \(total)")

출력값) 만들어진 사람 객체 수 -> 1
출력값) 만들어진 사람 객체 수 -> 20
출력값) 만들어진 사람 객체 수 -> 20
```
total이라는 변수는 Int 자료형으로 만들어졌으며 그 앞에 static 키워드가 붙어 있다. 그리고 이 변수를 만들면서 그 안에 0이라는 값을 넣었다. 이렇게 static 키워드를 붙이면 이 변수는 타입 속성이 된다.
앞에서 설명한 것처럼 타입 속성이란 실제 객체들이 가지는 변수나 상수가 아니라 클래스라는 틀에 들어 있는 변수나 상수를 말한다.

![그림](https://user-images.githubusercontent.com/47494240/54508692-0170e080-498a-11e9-9ccd-5f6d81168f6d.png)

클래스 안에 만들어 둔 변수는 인스턴스 속성이므로 이 클래스에서 실제 객체가 만들어지면 각각의 실제 객체 안에 이 속성이 들어가게 되고 실제 객체 안에서 사용된다.
따라서 하나의 인스턴스 객체에 1이라는 숫자를 넣어 두었다고 해서 다른 인스턴스 객체가 그 숫자를 가져다 쓰지는 못한다.
그러나 타입 속성은 클래스 자체에 만들어지므로 실제 인스턴스 객체들이 여러 개 만들어졌다고 해도 타입 속성은 한 개가 그대로 유지된다.
타입 속성은 클래스 안에 들어있기 때문에 클래스 이름 뒤에 점(.) 연산자를 붙인 후 속성 이름을 붙이면 어디서든 그 속성을 참조하여 사용할 수 있다.

**참고) 타입 속성이 갖고 있는 특징은 뭔가요?**

**모든 인스턴스 객체에서 접근하여 그 값을 사용하거나 바꿀 수 있는 게 바로 타입 속성입니다. 다음과 같은 형태로 어디서든 접근할 수 있습니다.**
```swift
클래스이름.변수이름
예) Person.total = 2
```
계산 속성을 타입 속성으로 만들 때는 static 키워드 외에 class 키워드를 사용할 수도 있다. 계산 속성의 앞에 class 키워드를 붙이면 이 계산 속성은 타입 속성이 된다.
앞에서 작성한 코드에서 halfTotal은 계산 속성으로 만들어졌으며 앞에 class 키워드가 붙어 있어 Person 클래스에 들어 있는 타입 속성이 된다.
이 계산 속성을 사용해 total 변수의 값을 가져올 때는 2로 나눈 값을 가져온다.
Person 클래스를 사용해 실제 객체를 만들 때 호출되는 초기화 함수 안에서는 total 변수의 값을 하나씩 크게 만든다.
이렇게 하면 total 변수에 들어 있는 값을 사용해 실제 사람 객체가 몇 개인지를 알 수 있다.

Person 클래스로부터 인스턴스 객체를 하나 만들었고 그 객체의 name 속성에는 '철수'라는 값이 들어갔다.
그리고 인스턴스 객체가 만들어지면서 Person 클래스 안에 들어 있는 total 변수의 값이 1 증가한다.
그 아래에는 halfTotal 계산 속성에 10이라는 값을 넣었는데 이렇게 하면 total 변수에는 2로 나눈 값인 5가 할당된다.

![그림](https://user-images.githubusercontent.com/47494240/54508693-0170e080-498a-11e9-8f03-0b0098e4efcd.png)

변수나 상수는 모두 타입 속성으로 만들어 사용할 수 있지만 저장 속성을 타입 속성으로 선언할 때는 초기 값을 반드시 할당해야 한다.
왜냐하면 타입 속성은 인스턴스 객체를 만들 때 호출되는 초기화 함수를 사용할 수 없어서 초기 값을 할당할 수 없기 때문이다.


#### 타입 메소드

지금까지 static이나 class 키워드를 붙여 만드는 타입 속성에 대해 알아보았다. 이번에는 타입 메소드가 무엇인지 알아보겠다.
함수가 클래스 안에 들어 있으면 이것을 '메소드(Method)'라고 부를 수 있다. 즉, 메소드는 객체 안에 들어 있는 함수라고 할 수 있다.
메소드는 '인스턴스 메소드(Instance Method)'와 '타입 메소드(Type Method)'로 구별된다.
인스턴스 메소드는 인스턴스 속성과 마찬가지로 클래스 안에 선언되어 있지만 실제로는 이 클래스에서 만든 인스턴스 객체안에 들어가 사용된다.
이에 반해 타입 메소드는 클래스 자체에 선언된 함수로 인스턴스 객체가 아닌 클래스 안에 들어 있다.

인스턴스 메소드는 다음과 같은 특성을 가진다.
```swift
 1. 클래스 안에 선언된다.
 2. 클래스 안에 선언된 속성을 모두 참조하여 사용할 수 있다.
 3. self 키워드를 사용해 자기 자신 즉, 인스턴스 객체를 참조할 수 있다.
```
self 키워드는 클래스 안에 정의된 인스턴스 메소드에서 사용할 수 있다. 이 키워드는 객체 자신을 가리키므로 self 뒤에 점(.)을 붙인 다음 속성 이름을 붙이면 속성 값을 참조할 수 있다.
```swift
self.name -> 객체 안에 정의된 name 속성을 참조하기
```
클래스 안에서 인스턴스 메소드를 사용할 때는 그 이름을 그대로 사용한다.
```swift
getName() -> 객체 안에 정의된 getName() 메소드를 호출하기
```
클래스로부터 인스턴스 객체를 만들었다면 인스턴스 객체 이름 뒤에 점(.)을 붙이고 속성 이름이나 인스턴스 메소드 이름을 붙여준다.
```swift
 person1.name -> person1 객체의 name 속성 참조하기
 person1.getName() -> person1 객체의 getName() 메소드 호출하기
```
이와 다르게 타입 메소드는 클래스 안에 들어 있는 메소드로 static 이나 class 키워드를 그 앞에 붙인다.
이렇게 static 이나 class 키워드를 붙인 타입 메소드는 클래스 이름 뒤에 점(.) 연산자를 붙인 후 메소드 이름을 붙이면 어느 객체에서든 접근할 수 있다.

**타입 메소드와 인스턴스 메소드의 개념 정리**
```swift
 * 타입 메소드
 1. static 이나 class 키워드를 붙인다.
 2. 클래스라는 틀 안에 들어 있는 메소드.
 3. 클래스이름.메소드이름 으로 접근한다.

 * 인스턴스 메소드
 1. static 키워드 없다.
 2. 실제 객체 안에 들어 있는 메소드.
 3. 실제객체.메소드이름 으로 접근한다.
```
타입 메소드를 추가한 코드는 위에 // type method 로 주석 처리 했다.

getTotal 함수 앞에는 class 키워드를 붙여 타입 메소드로 만들었다.
여기에서 주의할 점은 static이나 class로 선언된 타입 메소드는 인스턴스 객체를 위해 만들어 둔 인스턴스 속성들에 접근할 수 없다는 사실이다.

![그림](https://user-images.githubusercontent.com/47494240/54508694-02097700-498a-11e9-8e49-433226fe1df4.png)

각각의 인스턴스 객체 안에 들어 있는 속성은 인스턴스마다 다른 값을 갖게 만든 것이다.
그런데 이 인스턴스 변수의 값을 클래스라는 틀 안에 정의된 메소드에서 접근하여 변경할 수 있게 만든다면 모든 실제 객체들의 변수를 한꺼번에 변경하게 되는 문제가 생긴다.
예를 들어, 사람마다 이름이 다른데 모든 이름을 똑같이 바꾸는 경우가 생기게 되는 것이다. 따라서 타입 메소드에서는 인스턴스 객체의 속성을 바꾸지 못하도록 한다.

타입 메소드를 만들어서 호출할 때는 클래스 이름 뒤에 점(.)을 붙인 후 메소드 이름을 붙인다. 위의 코드에서 // type method 호출 주석 참고.

이제 클래스라는 틀 안에 있으면서 실제 객체들이 접근할 수 있는 타입 속성과 타입 메소드에 대해 이해했을 것이다.
그런데 static이나 class 키워드를 사용하여 타입 속성이나 타입 메소드를 선언하는 코드를 만들면 혼동되는 경우가 많다.
왜냐하면 인스턴스 속성이나 타입 속성 모두 하나의 클래스 안에 들어 있는데 그 앞에 static이나 class 키워드 하나가 붙어 있는지 붙어 있지 않은지 만으로 구별해야 하기 때문이다.
즉, 어떤 속성이 타입 속성인지 아닌지를 코드 자체만 보아서는 헷갈릴 수 있다.
따라서 실제 프로그램을 만들 때는 인스턴스 속성과 타입 속성, 그리고 인스턴스 메소드와 타입 메소드를 머릿속으로 잘 구별하면서 코드를 만드는 것이 필요하다.

 Quiz 20

Dog 클래스를 만들고 이름이 age와 birth인 계산 속성을 추가해 보세요. Dog 클래스를 정의한 후 name 속성은 일반적인 저장 속성으로 만듭니다. ageData 속성은 나이 값을 담아 두는 저장 속성으로 만듭니다.
age 속성은 계산 속성으로 만들고 ageData 변수의 값을 가져오도록 합니다. birth 속성도 계산 속성으로 만들고 태어난 연도를 파라미터로 전달하면 ageData 변수에 나이를 계산하여 할당 하도록 합니다.
```swift
class Dog {
    var name:String?
    var ageData:Int = 0
    
    init(name:String) {
        self.name = name
    }
    
    var age:Int {
        get {
            return ageData
        }
    }
    
    var birth:Int {
        get {
            return 2018 - ageData
        }
        set(birth) {
            ageData = 2018 - birth
        }
    }
}

var dog1 = Dog(name:"미미")
dog1.birth = 1990
print("\(dog1.name) 강아지의 나이 : \(dog1.age)")

출력값) Optional("미미") 강아지의 나이 : 28
```


[Ch4_classes6.md 파일로 가기](https://github.com/ChunsuKim/SwiftStudy/blob/master/Ch4_classes6.md)

[Swift Study Contents로 돌아가기](https://github.com/ChunsuKim/SwiftStudy)
