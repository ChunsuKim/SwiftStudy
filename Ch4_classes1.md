# 클래스와 구조체 사용하기

변수를 만들어서 사람의 이름이나 나이와 같은 값을 그 안에 넣을 수 있습니다. 또한 사람이 움직이는 것과 같이 어떤 기능이 실행되도록 하려면 함수를 선언하고 그 함수를 호출하면 된다.
그런데 사람이라는 것을 만들고 그 안에 사람의 이름을 저장한 변수와 사람의 움직임을 표현하는 함수를 모두 넣어 두면 좀 더 쉽고 편리하게 사용할 수 있다.

사람은 이름과 같은 속성과 '걷는다.'와 같은 움직임을 모두 가질 수 있으며, 이와 비유되는 것이 '객체(Object)'이다.
이렇게 세상에 있는 모든 것을 객체라고 보고 프로그램에도 객체를 만들어 줄 수 있도록 한 것이 '객체 지향(Object-Oriented)'이라는 개념입니다.
스위프트도 객체 지향이라는 개념을 사용하기 때문에 클래스나 객체를 만들 수 있는데 클래스와 함께 구조체도 사용할 수 있도록 한다.
구조체도 변수와 함수를 가질 수 있기 때문에 클래스와 구조체는 상당히 유사하다.

#### 키워드

> * **클래스 : 클래스는 붕어빵 틀과 같아서 한 번 만들면 계속 붕어빵을 찍어낼 수 있다.**
>
> * **인스턴스 : 클래스 이름은 자료형이 될 수 있고 클래스로부터 인스턴스를 만들면 점(.) 연산자를 사용해 그 안에 있는 것들에 접근할 수 있다.**
>
> * **속성 : 속성에는 저장 속성과 계산 속성이 있다.**
>
> * **구조체 : 구조체는 값을 모아 두는 목적으로 만들고 변수, 상수, 함수를 가질 수 있다.**
>
> * **열거형 : 열거형은 선택할 수 있는 범위의 값을 이름으로 정의한 것.**


### 1_함수를 다시 한 번 꼼꼼히 생각해 보기

앞의 내용에서 이미 더하기 함수를 만들어 보았다.
이미 만들어져 있는 더하기 함수를 사용하고 싶다면 함수 안에 무엇이 들어 있는지 잘 모르더라도 함수 상자의 위쪽에 있는 두 개의 구멍에 숫자를 넣어주면 아래쪽에 있는 하나의 구멍으로 결과 값이 나온다는 것만
알면 된다.

더하기 외에 빼기나 곱하기도 함수로 만들면 프로그램에는 함수가 더 많아진다. 그리고 더하기 함수뿐만 아니라 빼기나 곱하기 함수에서도 공통으로 사용할 수 있는 변수를 만들려면 변수를 함수 바깥에 선언해야 한다.
다시 말해, 함수 안에서 선언한 변수는 그 함수의 중괄호 안에서만 사용할 수 있기 때문에 여러 함수에서 함께 사용할 변수는 함수 바깥으로 빼두게 된다.

![그림](https://user-images.githubusercontent.com/47494240/54488058-6c65dd00-48e0-11e9-9933-800a868177fa.png)

그럼 함수 밖에 변수를 빼 놓은 후 다른 함수에서 사용하는 코드를 만들어 보겠다.
```swift
var count = 0

func add(a:Int, b:Int) -> Int {
    count += 1
    
    let output = a + b
    return output
}

func subtract(a:Int, b:Int) -> Int {
    count += 1
    
    return a - b
}

var result = add(a:20, b:10)
print("add 함수 호출 후 -> \(result), \(count)")

result = subtract(a:20, b:10)
print("subtract 함수 호출 후 -> \(result), \(count)")

출력값) add 함수 호출 후 -> 30, 1
출력값) subtract 함수 호출 후 -> 10, 2
```
더하기 함수는 add라는 이름으로, 빼기 함수는 substract라는 이름으로 만들었다. 함수 밖에 있는 count 변수에는 0을 할당했다.
이 변수는 add 와 subtract 함수에는 접근할 수 있으며 더하기나 빼기 연산을 몇 번이나 수행했는지 저장해 두기 위해 만든 것이다.
따라서 add 함수 안에서는 count 변수의 값을 1씩 증가시키고 a 와 b 파라미터의 값을 더하여 반환한다.
두 개의 값을 더한 결과를 반환할 때는 output이라는 이름의 상수를 만들어 그 상수에 할당한 후 반환한다.
여기에서 output 상수는 add 함수 안에 만들어져 있기 때문에 subtract 함수에서는 접근할 수 없다. subtract 함수 안에서도 count 변수의 값을 1씩 증가시킨다.

add 와 subtract 함수를 호출한 후 반환된 결과와 함께 count 변수의 값을 출력해 보면 두 개의 함수에서 count 변수에 접근할 수 있다는 것을 확인할 수 있다.

count 변수는 어떤 함수에도 속하지 않게 함수 바깥에 만들어 두었기 때문에 어디서나 접근할 수 있는 '전역 변수(Global Variable)'가 되었다.
이렇게 만들면 여러 함수에서 사용할 수 있다는 장점도 있지만 원하지 않는 값으로 바뀔 수 있는 위험성도 높아진다. 또한 전역 변수가 많아지면 함수 내부에서 만든 변수의 이름과 똑같아질 수도 있다.
이 때문에 서로 관련성이 있는 변수와 함수를 하나의 자루 안에 넣어 다른 것과 분리시키는 것이 좀 더 안전하다.
이렇게 변수와 함수를 하나의 자루 안에 넣을 방법을 생각하다 보니 좀 더 체계적인 이론을 만들 필요가 생겼다. 그것이 바로 '객체 지향 프로그래밍(Object oriented programming)'이라는 것이다.

**객체 지향이란 세상에 있는 모든 것을 객체로 보는 것인데 객체를 만들 수 있는 일종의 틀, 즉 클래스를 만들어서 객체를 찍어낼 수 있도록 한다.**
클래스가 무엇인지 자세히 알아보기 전에 앞에서 입력한 코드를 어떻게 클래스로 바꿀 수 있는지 알아보겠다.
```swift
class Calculator {
    var count = 0
    
    func add(a:Int, b:Int) -> Int {
        count += 1
        
        let output = a + b
        return output
    }
    
    func subtract(a:Int, b:Int) -> Int {
        count += 1
        
        return a - b
    }
}

var calculator1 = Calculator()
result = calculator1.add(a: 20, b: 10)
print("calculator1의 add 함수 호출 후 -> \(result), \(calculator1.count)")

출력값) calculator1의 add 함수 호출 후 -> 30, 1
```
class 키워드 뒤에는 클래스의 이름이 있고 그 뒤에 중괄호가 붙는다.
이것은 클래스의 이름이 Calculator라는 것을 알려준다. 중괄호 안에는 count 변수와 add, subtract 함수를 그대로 넣었다.
앞에서 살펴보았던 변수와 함수가 수정된 부분 없이 그대로 class 안으로 옮겨진 것이다.

이렇게 클래스를 만들면 클래스로부터 실제 객체를 만들어 낼 수 있다. 예를 들어, 객체를 붕어빵이라고 했을 때 클래스는 붕어빵을 찍어 내는 붕어빵 틀로 비유하면 쉽다.
이 내용은 뒤에서 다시 자세하게 설명하므로 지금은 클래스에서 객체를 만들어 낼 수 있다고만 생각해도 된다.

클래스에서 객체를 만들 때는 다음과 같이 클래스 이름 뒤에 소괄호를 붙인다.
```swift
클래스이름()
```
이 형식은 함수를 호출할 때와 똑같지만 함수 이름 대신에 클래스 이름이 온다는 것이 다르다. Calculator() 코드가 실행되면 객체가 만들어지고 왼쪽에 있는 calculator1 변수에 할당된다.
이렇게 생성된 객체 안에 add와 substract가 들어 있다고 생각하면 되는데 객체 안에 들어 있는 변수나 함수에 접근할 때는 점(.) 연산자를 사용한다.
즉, 객체 뒤에 점을 붙인 후 그 뒤에 변수나 함수이름을 붙인다. 이 코드를 실행하면 이전에 만들었던 코드와 똑같은 결과가 출력되며 count 변수에 들어 있는 값은 1이 된다.

코드가 어떻게 달라졌는지 유심히 살펴보기 바란다. 함수가 클래스 안에 들어갔으니 클래스로부터 만들어진 객체도 그 함수를 가지고 있다고 생각하면 쉽다.
따라서 객체 안에 들어 있는 함수를 호출할 수 있다. 이전에 만든 코드와 비교해 보면 함수를 호출하는 부분이 어떻게 달라졌는지 알 수 있을 것이다.
사실 클래스를 사용하면 아래와 같은 코드 형태가 만들어진다.

![그림](https://user-images.githubusercontent.com/47494240/54488059-6c65dd00-48e0-11e9-89b4-e458b47c1dbd.png)

클래스는 변수나 함수를 하나로 묶어주는 일종의 자루와 같은 역할을 한다. 그리고 그 클래스 안에 들어 있는 변수나 함수는 다른 곳에서 함부로 접근할 수 없다.
코드를 바꿔보다 보면 차차 알게 되겠지만 클래스는 변수와 함수를 하나로 묶어주는 것이 가장 기본적인 기능이다. 그런데 단순히 이런 역할만 할까?
다른 기능이 더 있으니 다음 섹션에서 클래스의 역할을 좀 더 알아보겠다.

Quiz 17

Dog 클래스를 만들고 그 안에 속성을 넣어 보세요. Dog 클래스를 정의한 후 name 속성을 추가합니다. 클래스를 만들었다면 이 클래스로부터 실제 강아지 객체를 만들고 그 강아지의 이름을 출력해 봅니다.
```swift
class Dog {
    var name:String = "미미"
}

var dog1 = Dog()
print("강아지의 이름 : \(dog1.name)")

출력값) 강아지의 이름 : 미미
```


### 2_클래스의 역할은 무엇일까?

함수를 만들어서 사용하다 보면 '프로그램은 여러 개의 함수로 만드는 거구나.'라고 느끼는 경우가 많다.
실제로 대부분의 프로그래밍 언어, 다시 말해서 프로그램을 만들 수 있게 하는 언어에서 함수는 매우 중요한 역할을 한다. 그런데 왜 굳이 클래스안에 함수를 넣어야 하는 걸까?

클래스는 앞에서 언급한 객체 지향 프로그래밍의 개념에서 출발한다. 객체 지향이란 말을 그대로 해석하면 '객체로 프로그램을 만든다.'는 의미이다.
이 객체라는 단어는 이전에도 몇 번씩 사용했는데 도대체 무엇일까? '객체(Object)'란 우리가 사는 세계에 있는 것들을 말한다고 할 수 있다.
우리가 사는 집, 타고 다니는 차, 그리고 걸어 다니는 사람까지도 모두 객체라고 할 수 있다.

![그림](https://user-images.githubusercontent.com/47494240/54488330-e481d200-48e3-11e9-9844-bec92d9d98ca.png)

우리가 보고 느낄 수 있는 모든 것들을 객체라고 할 수 있다면 세상은 객체라는 것으로 이루어져 있다고 할 수 있다. 그러면 이 객체로 프로그램을 만든다는 것은 무엇을 어떻게 한다는 말일까?
프로그램 안에도 객체라는 것들이 있다고 생각해 본다. 예를 들어, 사람을 객체라고 한다면 사람이 걷거나 뛰는 동작은 객체 안에서 동작하는 함수에 비유할 수 있다.
그렇다면 안에서 보았던 함수를 사용해서 다음과 같은 형태의 코드를 만들면 사람은 객체가 되고 움직이는 동작은 함수가 된다.

![그림](https://user-images.githubusercontent.com/47494240/54488331-e481d200-48e3-11e9-9470-98dbbe0a91fb.png)

함수를 만들 때 func 키워드 뒤에 함수 이름이 붙고 그 뒤에 소괄호와 중괄호가 차례대로 붙는다는 것은 이미 알고 있다.
그런데 혹시 동물이 걷거나 뛰는 동작을 똑같이 만들었다면 그 동작과 어떻게 구분할 수 있을까?
사람과 동물이 모두 walk 함수와 run 함수를 갖고 있을 때 사람의 동작만 별도로 구별하려면 어떻게 할까? 가장 쉬운 방법은 함수 이름으로 구별하는 것이다.

![그림](https://user-images.githubusercontent.com/47494240/54488332-e51a6880-48e3-11e9-985f-7b5afb06bf38.png)

앞에서 살펴본 그림을 보면 네 가지 상황에 함수 이름을 각각 다르게 붙여 보았다.
함수 이름을 만들 때는 보통 첫 글자는 소문자로 쓰고 그 뒤에 단어가 연속적으로 이어지면 구별해야 할 단어의 첫 글자는 대문자로 쓴다.
이 때문에 사람이 걷는다는 의미의 함수 이름은 PersonWalk 나 Personwalk 가 아니라 소문자와 대문자가 조합된 personWalk 처럼 만들어야 한다.

사람과 동물의 동작에 따라 함수 이름을 만들어 보니 잘 구별된다. 그런데 함수의 개수가 점점 많아질수록 사람과 동물의 동작을 함수 이름만으로 구별하는 것이 번거롭고 어렵게 느껴질 수 있다.

![그림](https://user-images.githubusercontent.com/47494240/54488333-e51a6880-48e3-11e9-96b1-66d5034dc791.png)

그렇다면 사람의 동작을 모두 하나로 묶고 동물의 동작을 모두 하나로 묶어서 구별하는 방법은 없을까? 그렇다. 이때 사용하는 것이 클래스라는 것인데 클래스를 사용하면 각각을 하나로 묶을 수 있다.

![그림](https://user-images.githubusercontent.com/47494240/54488334-e51a6880-48e3-11e9-98e6-7d766709f3e4.png)

이제 클래스가 어떤 과정으로 생겨났는지 조금은 이해할 수 있을 것이다. 그렇다면 클래스를 사용했을 때 같은 동작을 하는 사람과 동물을 구별할 수 있다는 것을 알 수 있다.
그런데 실제 사람을 보면 철수, 영희 등 한 두 사람이 아니다. 다시 말해, 여러 명의 사람이 있는데 그 사람들이 걷거나 뛰는 동작은 모두 공통의 동작이다.
따라서 공통의 동작을 하는 사람들을 그룹으로 묶을 수 있다.

![그림](https://user-images.githubusercontent.com/47494240/54488335-e51a6880-48e3-11e9-9cdb-e570ef348df6.png)

이렇게 하면 철수, 영희, 민희라는 실제 사람들을 모아서 사람이라는 클래스로 부르고 각각의 실제 사람은 객체라고 부를 수 있다.
즉, 클래스는 공통의 속성을 가진 그룹이고 객체는 실제 눈에 보이는 하나의 객체가 된다. '클래스(Class)'라는 단어가 가진 원래의 의미도 공통의 특징을 가진 것들을 하나로 묶어서 본다는 말이다.
이 클래스는 단순히 공통된 것들을 묶어주는 역할도 하지만 스위프트와 같은 객체 지향 언어에서는 객체의 '원형(Prototype)'을 만드는 역할도 한다.
여기서 원형이란 쉽게 말해서 객체를 찍어 내는 틀이라고 볼 수 있다.

![그림](https://user-images.githubusercontent.com/47494240/54488337-e5b2ff00-48e3-11e9-95a0-c010cfc5bcbd.png)

철수, 영희, 민희라는 각각의 객체를 만들려면 공통으로 들어 있는 이름 변수나 걷기, 뛰기 함수를 매번 넣어주어야 한다.
이 과정에서 코드가 중복 입력되므로 우선 사람 객체를 만들 수 있는 클래스라는 틀을 만들고 그 틀에서 각각의 사람을 찍어 내듯이 만드는 것이 훨씬 효율적이다.


[Ch4_classes2_0.md 파일로 가기](https://github.com/ChunsuKim/SwiftStudy/blob/master/Ch4_classes2_0.md)

[Swift Study Contents로 돌아가기](https://github.com/ChunsuKim/SwiftStudy)
